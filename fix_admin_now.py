#!/usr/bin/env python
"""
Script to fix admin user for MIMI STORE
"""
import os
import sys
import django

# Setup Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'ecom_project.settings')
django.setup()

from users.models import User

def fix_admin():
    print("ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ...")
    
    # Delete all existing users first
    User.objects.all().delete()
    print("ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ†")
    
    # Create fresh admin user
    admin_user = User.objects.create_user(
        phone='admin',
        password='admin123',
        first_name='Ù…Ø¯ÙŠØ±',
        last_name='Ø§Ù„Ù†Ø¸Ø§Ù…',
        is_admin=True,
        is_superuser=True,
        is_active=True,
    )
    
    print("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ Ø¨Ù†Ø¬Ø§Ø­!")
    print("\nğŸ”‘ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:")
    print("   ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: admin")
    print("   ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: admin123")
    print("\nğŸŒ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©: http://localhost:8000/admin")

if __name__ == '__main__':
    fix_admin()