
# دليل إدارة كوبونات الخصم

## نظرة عامة

تم إضافة نظام كوبونات الخصم إلى متجر MIMI STORE، مما يسمح للعملاء بالحصول على خصومات على مشترياتهم باستخدام أكواد خصم مخصصة.

## الميزات الرئيسية

### أنواع الخصم
- **خصم بنسبة مئوية**: خصم محدد كنسبة مئوية من إجمالي الطلب
- **خصم بقيمة ثابتة**: خصم محدد كمبلغ ثابت من إجمالي الطلب

### شروط الكوبون
- **تاريخ الصلاحية**: تحديد تاريخ بدء وانتهاء صلاحية الكوبون
- **الحد الأدنى للطلب**: تحديد الحد الأدنى لقيمة الطلب المطلوبة لاستخدام الكوبون
- **الحد الأقصى للاستخدام**: تحديد عدد المرات التي يمكن استخدام الكوبون فيها
- **الحد الأقصى للخصم**: تحديد الحد الأقصى لقيمة الخصم (للكوبونات ذات النسبة المئوية)

### تخصيص الكوبونات
- **تطبيق على منتجات محددة**: تحديد منتجات معينة يمكن تطبيق الكوبون عليها
- **تطبيق على أقسام محددة**: تحديد أقسام معينة يمكن تطبيق الكوبون عليها
- **استثناء منتجات**: تحديد منتجات لا يمكن تطبيق الكوبون عليها
- **استثناء أقسام**: تحديد أقسام لا يمكن تطبيق الكوبون عليها

## إدارة الكوبونات (للمديرين)

### إنشاء كوبون جديد

1. تسجيل الدخول إلى لوحة إدارة Django
2. الانتقال إلى قسم "المنتجات"
3. النقر على "كوبونات الخصم"
4. النقر على "إضافة كوبون"
5. ملء الحقول المطلوبة:
   - **كود الكوبون**: الكود الفريد الذي سيستخدمه العملاء
   - **الوصف**: وصف اختياري للكوبون
   - **نوع الخصم**: نسبة مئوية أو قيمة ثابتة
   - **قيمة الخصم**: قيمة الخصم
   - **الحد الأقصى للخصم**: (اختياري) للكوبونات ذات النسبة المئوية
   - **الحد الأدنى للطلب**: الحد الأدنى لقيمة الطلب
   - **تاريخ البدء**: تاريخ بدء صلاحية الكوبون
   - **تاريخ الانتهاء**: تاريخ انتهاء صلاحية الكوبون
   - **حد الاستخدام**: (اختياري) عدد المرات التي يمكن استخدام الكوبون فيها
6. تحديد المنتجات والأقسام المحددة أو المستثناة (اختياري)
7. حفظ الكوبون

### عرض استخدامات الكوبون

1. الانتقال إلى قسم "كوبونات الخصم" في لوحة الإدارة
2. النقر على الكوبون المطلوب
3. النقر على علامة التبويب "استخدامات الكوبون" أو الانتقال إلى رابط الإحصائيات

## استخدام الكوبونات (للعملاء)

### تطبيق كوبون في سلة التسوق

1. إضافة المنتجات إلى سلة التسوق
2. الانتقال إلى سلة التسوق
3. إدخال كود الكوبون في حقل "أدخل كود الخصم"
4. النقر على زر "تطبيق"
5. سيتم تطبيق الخصم تلقائيًا على إجمالي الطلب
6. يمكن إزالة الكوبون بالنقر على زر "إزالة الكوبون"

## نصائح وأفضل الممارسات

### للمديرين
- استخدم أكواد كوبونات سهلة التذكر
- حدد تواريخ انتهاء صلاحية معقولة
- ضع حدودًا دنيا للطلب لتشجيع العملاء على شراء المزيد
- استخدم الكوبونات كجزء من الحملات التسويقية والعروض الخاصة
- راقب استخدامات الكوبونات لقياس فعالية الحملات التسويقية

### للمطورين
- يتم حفظ الكوبونات المستخدمة في التخزين المحلي للمستخدم
- يتم التحقق من صلاحية الكوبونات في كل مرة يتم فيها تطبيقها
- يتم حساب الخصم بناءً على المنتجات المؤهلة في سلة التسوق
- يتم تحديث إجمالي السلة تلقائيًا بعد تطبيق أو إزالة الكوبون

## استكشاف الأخطاء وإصلاحها

### مشاكل شائعة
- **الكوبون غير صالح**: تحقق من صحة الكود وتاريخ الصلاحية
- **الحد الأدنى للطلب**: تأكد من أن إجمالي الطلب يلبي الحد الأدنى المطلوب
- **المنتجات غير المؤهلة**: تحقق من أن المنتجات في السلة مؤهلة للاستخدام مع الكوبون
- **تم الوصول إلى حد الاستخدام**: قد يكون الكوبون قد تم استخدامه الحد الأقصى من المرات

### للمطورين
- تحقق من وحدة التحكم في المتصفح لأي أخطاء
- تأكد من أن جميع نقاط النهاية API تعمل بشكل صحيح
- تحقق من استجابات API للتحقق من رسائل الخطأ
